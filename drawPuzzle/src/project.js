__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var d="function"==typeof __require&&__require;if(!a&&d)return d(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}}var _=o[c]={exports:{}};e[c][0].call(_.exports,function(t){return i(e[c][1][t]||t)},_,_.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({CommonEnum:[function(t,e,o){"use strict";cc._RF.push(e,"ebd65ilRd5AS5yZr46iX7LL","CommonEnum"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return __extends(e,t),e.prototype.start=function(){},__decorate([r(cc.Label)],e.prototype,"label",void 0),__decorate([r],e.prototype,"text",void 0),e=__decorate([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"5a103Ie2VZJXKMtf3TR0agT","Game"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.continer=null,e.bgGrid=null,e.linePrefab=null,e.row_grid_num=15,e.vol_grid_num=15,e._arrayGrids=[],e._lineOBjects={},e._curDrawingLineNode=null,e._moveIdx=-1,e}return __extends(e,t),e.prototype.start=function(){for(var t=0;t<this.row_grid_num;++t)for(var e=0;e<this.vol_grid_num;++e){var o=cc.instantiate(this.bgGrid);o.getChildByName("num").getComponent(cc.Label).string=(t*this.row_grid_num+e).toString(),this._arrayGrids.push(o),this.continer.addChild(o),(t+e)%2==1&&(o.color=cc.Color.BLUE)}this.continer.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.continer.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch,this),this.continer.on(cc.Node.EventType.TOUCH_END,this.onTouch,this),this.continer.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch,this)},e.prototype.onTouch=function(t){var e=t.type,o=t.touch._point,n=this.continer.convertToNodeSpace(o),i=Math.floor(n.x/40),r=Math.floor(n.y/40)*this.row_grid_num+i,c=this._arrayGrids[r];"touchstart"==e?(console.log(r,c.x,c.y),this._moveIdx=r,this.drawLine(this._moveIdx)):"touchmove"==e?r!=this._moveIdx&&(this._moveIdx=r,this._curDrawingLineNode.getComponent("LineObject").setPoint(r)):"touchend"!=e&&"touchcancel"!=e||(this._moveIdx=-1)},e.prototype.touchGrid=function(t){this.drawLine(t)},e.prototype.drawLine=function(t){this._curDrawingLineNode=cc.instantiate(this.linePrefab),this._curDrawingLineNode.getComponent("LineObject").setContainer(this.continer,this._arrayGrids),this._curDrawingLineNode.getComponent("LineObject").setPoint(t),this.node.addChild(this._curDrawingLineNode)},e.prototype.dispose=function(){this._lineOBjects={},this._curDrawingLineNode=null},__decorate([r(cc.Node)],e.prototype,"continer",void 0),__decorate([r(cc.Prefab)],e.prototype,"bgGrid",void 0),__decorate([r(cc.Prefab)],e.prototype,"linePrefab",void 0),__decorate([r],e.prototype,"row_grid_num",void 0),__decorate([r],e.prototype,"vol_grid_num",void 0),e=__decorate([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],LineObject:[function(t,e,o){"use strict";cc._RF.push(e,"8f27aP8ZGdFNIIL3YrDTO51","LineObject"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.lineUnit=null,e.text="hello",e._containNode=null,e._arrayGrid=null,e._pointsStack=[],e}return __extends(e,t),e.prototype.start=function(){},e.prototype.setContainer=function(t,e){this._containNode=t,this.node.width=this._containNode.width,this.node.height=this._containNode.height,this._arrayGrid=e},e.prototype.setPoint=function(t){console.log("setPoint",t),this._pointsStack.push(t);var e=this._pointsStack.length;e>=2&&this.drawUnitLine(this._pointsStack[e-2],this._pointsStack[e-1])},e.prototype.deleteLine=function(){},e.prototype.drawUnitLine=function(t,e){console.log("drawUnitLine",t,e);var o=Math.floor(t/15),n=t%15,i=Math.floor(e/15),r=e%15,c=this._arrayGrid[t],a=0,s=0,d=0,_=0;i>o?(a=1,s=90,d=c.x,_=c.y+c.height/2):i<o?(a=2,s=90,d=c.x,_=c.y-c.height/2):r<n?(a=3,s=0,d=c.x-c.width/2,_=c.y):r>n&&(a=4,s=0,d=c.x+c.width/2,_=c.y),console.log(o,n,i,r,a,s);var u=cc.instantiate(this.lineUnit);u.rotation=s,u.x=d,u.y=_,this.node.addChild(u)},e.prototype.dispose=function(){this._pointsStack=[],this._containNode=null,this._arrayGrid=null},__decorate([r(cc.Label)],e.prototype,"label",void 0),__decorate([r(cc.Prefab)],e.prototype,"lineUnit",void 0),__decorate([r],e.prototype,"text",void 0),e=__decorate([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}]},{},["CommonEnum","Game","LineObject"]);